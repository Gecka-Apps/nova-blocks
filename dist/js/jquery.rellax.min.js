!function(t,i,e,s){if(i.requestAnimationFrame){t(i);var h,n,o=!0,a=[];t.fn.rellax=function(i){return this.each(function(){var e,s=t.data(this,"rellax");"string"!=typeof i&&void 0===s?t.data(this,"rellax",new g(this,i)):("destroy"===i&&(e=a.indexOf(s))>-1&&a.splice(e,1),"refresh"===i&&m())})},t.fn.rellax.defaults={amount:.5,bleed:0,container:"[data-rellax-container]",children:"[data-rellax-child]",absolute:!1,scale:1,scaleX:!1,scaleY:!0},t.extend(g.prototype,{constructor:g,_reset:function(){this.ready=!1,this.$el.css({position:"",top:"",left:"",width:"",height:"",transform:""})},_cachePosition:function(){this.width=this.$el.outerWidth(),this.height=this.$el.outerHeight(),this.offset=this.$el.offset(),this.parent.width=this.parent.$el.outerWidth(),this.parent.height=this.parent.$el.outerHeight(),this.parent.offset=this.parent.$el.offset()},_prepareElement:function(){this.parent.$el.css({clip:"rect(0,"+this.width+"px,"+this.height+"px,0)"}),this._scale(),this.options.absolute?this.$el.css({position:"absolute",top:this.offset.top-this.parent.offset.top,left:this.offset.left-this.parent.offset.left,width:this.width,height:this.height}):this.$el.css({position:"fixed",top:this.offset.top,left:this.offset.left,width:this.width,height:this.height}),this.ready=!0},_scale:function(){var i=(this.parent.height*(1-this.options.amount)+h*this.options.amount)/this.height,e=this.parent.width/this.width,s=Math.max(e,i),n=this.parent.height*(1-s)/2;this.parent.width;if(this.options.scaleY){this.height*=s,this.offset.top+=n;var o=this.height+2*n;this.children.$el.each(function(i,e){t(e).css({marginTop:-1*n,height:o})})}this.options.scaleX&&(this.width*=s,this.offset.left+=this.parent.width*(1-s)/2)},_updatePosition:function(t){if(!0===this.ready){var i=this._getProgress(),e=(h+this.parent.height)*(i-.5)*this.options.amount,s=-1*e,o=1+(this.options.scale-1)*i,a=o>=1?"scale("+o+")":"",l=o>=1?"scale("+1/o+")":"";i<0||i>1||(this.options.absolute||(e-=n),this.children.$el.each(function(t,i){i.style.transform="translate3d(0,"+s+"px,0) "+l}),this.el.style.transform="translate3d(0,"+e+"px,0) "+a)}},_getProgress:function(){return(n-this.parent.offset.top+h)/(h+this.parent.height)}});var l,r,p,c,f=(l=m,r=300,function(){var t=this,i=arguments,e=p&&!c;clearTimeout(c),c=setTimeout(function(){c=null,p||l.apply(t,i)},r),e&&l.apply(t,i)});t(i).on("resize",function(){u(),f()}),t(i).on("scroll",d),u(),d(),function i(){var e;!0!==o&&t.each(a,function(t,i){i._updatePosition(e)}),requestAnimationFrame(i),o=!0}()}function u(){i.innerWidth,h=i.innerHeight}function d(){n=i.scrollY,o=!1}function g(i,e){this.el=i,this.$el=t(i),this.ready=!1,this.options=t.extend({},t.fn.rellax.defaults,e),this.parent={},this.parent.$el=this.$el.closest(this.options.container),this.children={},this.children.$el=this.$el.find(this.options.children);var h=this.$el.data("rellax-amount"),n=this.$el.data("rellax-bleed"),o=this.$el.data("rellax-scale");this.options.amount=h!==s?parseFloat(h):this.options.amount,this.options.bleed=n!==s?parseFloat(n):this.options.bleed,this.options.scale=o!==s?parseFloat(o):this.options.scale,0!=this.options.amount&&(a.push(this),f())}function m(){t.each(a,function(t,i){i._reset()}),t.each(a,function(t,i){i._cachePosition()}),t.each(a,function(t,i){i._prepareElement(),i._updatePosition()})}}(jQuery,window,document);